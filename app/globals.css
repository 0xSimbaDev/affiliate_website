@import "tailwindcss";

/* ==========================================================================
   DESIGN SYSTEM - Multi-Niche Affiliate Platform

   Inspired by: Wirecutter, The Verge, Linear, Stripe
   Philosophy: Clean, minimal, trustworthy, performant
   ========================================================================== */

@theme inline {
  /* --------------------------------------------------------------------------
     TYPOGRAPHY SCALE
     Based on a 1.25 ratio (Major Third) for harmonious scaling
     -------------------------------------------------------------------------- */
  --font-size-xs: 0.75rem;     /* 12px */
  --font-size-sm: 0.875rem;    /* 14px */
  --font-size-base: 1rem;      /* 16px */
  --font-size-lg: 1.125rem;    /* 18px */
  --font-size-xl: 1.25rem;     /* 20px */
  --font-size-2xl: 1.5rem;     /* 24px */
  --font-size-3xl: 1.875rem;   /* 30px */
  --font-size-4xl: 2.25rem;    /* 36px */
  --font-size-5xl: 3rem;       /* 48px */
  --font-size-6xl: 3.75rem;    /* 60px */

  /* Line heights */
  --leading-none: 1;
  --leading-tight: 1.25;
  --leading-snug: 1.375;
  --leading-normal: 1.5;
  --leading-relaxed: 1.625;
  --leading-loose: 2;

  /* Letter spacing */
  --tracking-tighter: -0.05em;
  --tracking-tight: -0.025em;
  --tracking-normal: 0;
  --tracking-wide: 0.025em;
  --tracking-wider: 0.05em;

  /* --------------------------------------------------------------------------
     SPACING SCALE
     4px base unit for consistent rhythm
     -------------------------------------------------------------------------- */
  --space-0: 0;
  --space-px: 1px;
  --space-0-5: 0.125rem;   /* 2px */
  --space-1: 0.25rem;      /* 4px */
  --space-1-5: 0.375rem;   /* 6px */
  --space-2: 0.5rem;       /* 8px */
  --space-2-5: 0.625rem;   /* 10px */
  --space-3: 0.75rem;      /* 12px */
  --space-3-5: 0.875rem;   /* 14px */
  --space-4: 1rem;         /* 16px */
  --space-5: 1.25rem;      /* 20px */
  --space-6: 1.5rem;       /* 24px */
  --space-7: 1.75rem;      /* 28px */
  --space-8: 2rem;         /* 32px */
  --space-9: 2.25rem;      /* 36px */
  --space-10: 2.5rem;      /* 40px */
  --space-11: 2.75rem;     /* 44px */
  --space-12: 3rem;        /* 48px */
  --space-14: 3.5rem;      /* 56px */
  --space-16: 4rem;        /* 64px */
  --space-20: 5rem;        /* 80px */
  --space-24: 6rem;        /* 96px */
  --space-28: 7rem;        /* 112px */
  --space-32: 8rem;        /* 128px */

  /* --------------------------------------------------------------------------
     SHADCN/UI COLOR SYSTEM
     -------------------------------------------------------------------------- */
  --color-background: hsl(var(--background));
  --color-foreground: hsl(var(--foreground));
  --color-card: hsl(var(--card));
  --color-card-foreground: hsl(var(--card-foreground));
  --color-popover: hsl(var(--popover));
  --color-popover-foreground: hsl(var(--popover-foreground));
  --color-primary: hsl(var(--primary));
  --color-primary-foreground: hsl(var(--primary-foreground));
  --color-secondary: hsl(var(--secondary));
  --color-secondary-foreground: hsl(var(--secondary-foreground));
  --color-muted: hsl(var(--muted));
  --color-muted-foreground: hsl(var(--muted-foreground));
  --color-accent: hsl(var(--accent));
  --color-accent-foreground: hsl(var(--accent-foreground));
  --color-destructive: hsl(var(--destructive));
  --color-destructive-foreground: hsl(var(--destructive-foreground));
  --color-border: hsl(var(--border));
  --color-input: hsl(var(--input));
  --color-ring: hsl(var(--ring));

  /* Site-specific theming colors */
  --color-site-primary: var(--site-primary);
  --color-site-secondary: var(--site-secondary);
  --color-site-accent: var(--site-accent);

  /* --------------------------------------------------------------------------
     BORDER RADIUS
     Slightly rounded for modern feel, not too playful
     -------------------------------------------------------------------------- */
  --radius-none: 0;
  --radius-sm: 0.25rem;    /* 4px - subtle rounding */
  --radius-md: 0.375rem;   /* 6px - inputs, small buttons */
  --radius-lg: 0.5rem;     /* 8px - cards, medium elements */
  --radius-xl: 0.75rem;    /* 12px - larger cards */
  --radius-2xl: 1rem;      /* 16px - hero sections */
  --radius-3xl: 1.5rem;    /* 24px - special elements */
  --radius-full: 9999px;   /* pills, avatars */

  /* --------------------------------------------------------------------------
     SHADOWS / ELEVATION
     Subtle, professional shadows with low opacity
     -------------------------------------------------------------------------- */
  --shadow-xs: 0 1px 2px 0 rgb(0 0 0 / 0.03);
  --shadow-sm: 0 1px 3px 0 rgb(0 0 0 / 0.04), 0 1px 2px -1px rgb(0 0 0 / 0.04);
  --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.05), 0 2px 4px -2px rgb(0 0 0 / 0.05);
  --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.05), 0 4px 6px -4px rgb(0 0 0 / 0.05);
  --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.05), 0 8px 10px -6px rgb(0 0 0 / 0.05);
  --shadow-2xl: 0 25px 50px -12px rgb(0 0 0 / 0.15);

  /* Colored shadows for site theming */
  --shadow-site-sm: 0 2px 8px -2px color-mix(in srgb, var(--site-primary) 15%, transparent);
  --shadow-site-md: 0 4px 16px -4px color-mix(in srgb, var(--site-primary) 20%, transparent);
  --shadow-site-lg: 0 8px 24px -6px color-mix(in srgb, var(--site-primary) 25%, transparent);

  /* --------------------------------------------------------------------------
     TRANSITIONS
     Fast but not jarring, optimized for performance
     -------------------------------------------------------------------------- */
  --duration-75: 75ms;
  --duration-100: 100ms;
  --duration-150: 150ms;
  --duration-200: 200ms;
  --duration-300: 300ms;
  --duration-500: 500ms;

  --ease-in: cubic-bezier(0.4, 0, 1, 1);
  --ease-out: cubic-bezier(0, 0, 0.2, 1);
  --ease-in-out: cubic-bezier(0.4, 0, 0.2, 1);
  --ease-bounce: cubic-bezier(0.34, 1.56, 0.64, 1);

  /* --------------------------------------------------------------------------
     Z-INDEX SCALE
     -------------------------------------------------------------------------- */
  --z-base: 0;
  --z-dropdown: 10;
  --z-sticky: 20;
  --z-fixed: 30;
  --z-modal-backdrop: 40;
  --z-modal: 50;
  --z-popover: 60;
  --z-tooltip: 70;
}

/* ==========================================================================
   BASE COLORS - Light Mode
   ========================================================================== */
@layer base {
  :root {
    /* Neutral palette - warm gray undertones for approachability */
    --background: 0 0% 100%;
    --foreground: 220 14% 10%;

    --card: 0 0% 100%;
    --card-foreground: 220 14% 10%;

    --popover: 0 0% 100%;
    --popover-foreground: 220 14% 10%;

    /* Primary - neutral dark for typography-first design */
    --primary: 220 14% 10%;
    --primary-foreground: 0 0% 100%;

    /* Secondary - subtle gray */
    --secondary: 220 9% 96%;
    --secondary-foreground: 220 14% 10%;

    /* Muted - for backgrounds and subdued elements */
    --muted: 220 9% 96%;
    --muted-foreground: 220 9% 46%;

    /* Accent - same as secondary by default */
    --accent: 220 9% 96%;
    --accent-foreground: 220 14% 10%;

    /* Destructive */
    --destructive: 0 72% 51%;
    --destructive-foreground: 0 0% 100%;

    /* Borders and inputs */
    --border: 220 9% 91%;
    --input: 220 9% 91%;
    --ring: 220 14% 10%;

    /* Base radius */
    --radius: 0.5rem;

    /* Site theming defaults (overridden per-site) */
    --site-primary: #2563eb;
    --site-secondary: #3b82f6;
    --site-accent: #f59e0b;

    /* Site primary with opacity variants */
    --site-primary-5: color-mix(in srgb, var(--site-primary) 5%, transparent);
    --site-primary-10: color-mix(in srgb, var(--site-primary) 10%, transparent);
    --site-primary-20: color-mix(in srgb, var(--site-primary) 20%, transparent);
    --site-primary-90: color-mix(in srgb, var(--site-primary) 90%, transparent);
  }

  /* Dark mode */
  .dark {
    --background: 220 14% 7%;
    --foreground: 220 9% 98%;

    --card: 220 14% 9%;
    --card-foreground: 220 9% 98%;

    --popover: 220 14% 9%;
    --popover-foreground: 220 9% 98%;

    --primary: 220 9% 98%;
    --primary-foreground: 220 14% 7%;

    --secondary: 220 14% 14%;
    --secondary-foreground: 220 9% 98%;

    --muted: 220 14% 14%;
    --muted-foreground: 220 9% 55%;

    --accent: 220 14% 14%;
    --accent-foreground: 220 9% 98%;

    --destructive: 0 72% 51%;
    --destructive-foreground: 0 0% 100%;

    --border: 220 14% 16%;
    --input: 220 14% 16%;
    --ring: 220 9% 70%;
  }
}

/* ==========================================================================
   BASE STYLES
   ========================================================================== */
@layer base {
  *,
  *::before,
  *::after {
    border-color: hsl(var(--border));
  }

  html {
    scroll-behavior: smooth;
    -webkit-tap-highlight-color: transparent;
  }

  body {
    background-color: hsl(var(--background));
    color: hsl(var(--foreground));
    font-feature-settings: "rlig" 1, "calt" 1;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
  }

  /* Focus visible for accessibility */
  :focus-visible {
    outline: 2px solid var(--site-primary);
    outline-offset: 2px;
  }

  /* Selection highlight using site color */
  ::selection {
    background-color: var(--site-primary-20);
    color: inherit;
  }

  /* Improved heading defaults */
  h1, h2, h3, h4, h5, h6 {
    text-wrap: balance;
  }

  /* Improved paragraph defaults */
  p {
    text-wrap: pretty;
  }
}

/* ==========================================================================
   UTILITY CLASSES
   ========================================================================== */
@layer utilities {
  /* Container utilities */
  .container-narrow {
    max-width: 768px;
    margin-inline: auto;
  }

  .container-content {
    max-width: 1024px;
    margin-inline: auto;
  }

  .container-wide {
    max-width: 1280px;
    margin-inline: auto;
  }

  /* Article page two-column layout */
  .article-layout {
    display: grid;
    grid-template-columns: 1fr;
    gap: 2rem;
  }

  @media (min-width: 1024px) {
    .article-layout {
      grid-template-columns: 1fr 300px;
      gap: 3rem;
    }
  }

  @media (min-width: 1280px) {
    .article-layout {
      grid-template-columns: 1fr 340px;
    }
  }

  .article-sidebar {
    display: none;
  }

  @media (min-width: 1024px) {
    .article-sidebar {
      display: block;
    }
  }

  /* Text utilities */
  .text-balance {
    text-wrap: balance;
  }

  .text-pretty {
    text-wrap: pretty;
  }

  /* Gradient text using site primary */
  .text-gradient-site {
    background: linear-gradient(135deg, var(--site-primary), var(--site-secondary));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  /* Site-colored backgrounds */
  .bg-site-primary {
    background-color: var(--site-primary);
  }

  .bg-site-secondary {
    background-color: var(--site-secondary);
  }

  .bg-site-accent {
    background-color: var(--site-accent);
  }

  .bg-site-primary-subtle {
    background-color: var(--site-primary-5);
  }

  /* Site-colored text */
  .text-site-primary {
    color: var(--site-primary);
  }

  .text-site-secondary {
    color: var(--site-secondary);
  }

  .text-site-accent {
    color: var(--site-accent);
  }

  /* Site-colored borders */
  .border-site-primary {
    border-color: var(--site-primary);
  }

  .border-site-primary-subtle {
    border-color: var(--site-primary-20);
  }

  /* Hide scrollbar but keep functionality */
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  /* Focus ring using site color */
  .ring-site-primary {
    --tw-ring-color: var(--site-primary);
  }

  /* Aspect ratios for product images */
  .aspect-product {
    aspect-ratio: 4 / 3;
  }

  .aspect-card {
    aspect-ratio: 16 / 10;
  }

  .aspect-hero {
    aspect-ratio: 16 / 9;
  }
}

/* ==========================================================================
   ANIMATIONS
   Minimal, performant animations
   ========================================================================== */
@layer utilities {
  /* Fade in */
  @keyframes fade-in {
    from { opacity: 0; }
    to { opacity: 1; }
  }

  .animate-fade-in {
    animation: fade-in 0.3s var(--ease-out) forwards;
  }

  /* Fade up */
  @keyframes fade-up {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-fade-up {
    animation: fade-up 0.4s var(--ease-out) forwards;
  }

  /* Slide in from top */
  @keyframes slide-in-from-top {
    from {
      opacity: 0;
      transform: translateY(-10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-slide-in-from-top {
    animation: slide-in-from-top 0.2s var(--ease-out) forwards;
  }

  /* Scale in */
  @keyframes scale-in {
    from {
      opacity: 0;
      transform: scale(0.95);
    }
    to {
      opacity: 1;
      transform: scale(1);
    }
  }

  .animate-scale-in {
    animation: scale-in 0.2s var(--ease-out) forwards;
  }

  /* Shimmer for loading states */
  @keyframes shimmer {
    from {
      background-position: -200% 0;
    }
    to {
      background-position: 200% 0;
    }
  }

  .animate-shimmer {
    background: linear-gradient(
      90deg,
      hsl(var(--muted)) 0%,
      hsl(var(--muted) / 0.5) 50%,
      hsl(var(--muted)) 100%
    );
    background-size: 200% 100%;
    animation: shimmer 1.5s infinite;
  }
}

/* ==========================================================================
   COMPONENT-SPECIFIC STYLES
   ========================================================================== */
@layer components {
  /* Sticky header backdrop */
  .header-blur {
    backdrop-filter: blur(12px) saturate(180%);
    -webkit-backdrop-filter: blur(12px) saturate(180%);
  }

  /* Card hover effect */
  .card-interactive {
    transition: transform 0.2s var(--ease-out), box-shadow 0.2s var(--ease-out);
  }

  .card-interactive:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-lg);
  }

  /* Product card image zoom */
  .product-image-zoom {
    transition: transform 0.4s var(--ease-out);
  }

  .group:hover .product-image-zoom {
    transform: scale(1.03);
  }

  /* Link underline animation */
  .link-underline {
    position: relative;
  }

  .link-underline::after {
    content: '';
    position: absolute;
    bottom: -2px;
    left: 0;
    width: 0;
    height: 2px;
    background-color: var(--site-primary);
    transition: width 0.2s var(--ease-out);
  }

  .link-underline:hover::after {
    width: 100%;
  }

  /* Button with site color */
  .btn-site-primary {
    background-color: var(--site-primary);
    color: white;
    transition: background-color 0.15s var(--ease-out), transform 0.15s var(--ease-out), box-shadow 0.15s var(--ease-out);
  }

  .btn-site-primary:hover {
    background-color: var(--site-primary-90);
    box-shadow: var(--shadow-site-md);
  }

  .btn-site-primary:active {
    transform: scale(0.98);
  }

  /* Outline button with site color */
  .btn-site-outline {
    border: 1.5px solid var(--site-primary);
    color: var(--site-primary);
    background-color: transparent;
    transition: background-color 0.15s var(--ease-out), color 0.15s var(--ease-out);
  }

  .btn-site-outline:hover {
    background-color: var(--site-primary);
    color: white;
  }

  /* Badge using site color */
  .badge-site {
    background-color: var(--site-primary-10);
    color: var(--site-primary);
    font-weight: 500;
  }

  /* Divider with gradient */
  .divider-gradient {
    height: 1px;
    background: linear-gradient(
      90deg,
      transparent,
      hsl(var(--border)),
      transparent
    );
  }
}

/* ==========================================================================
   RESPONSIVE CONTAINER PADDING
   ========================================================================== */
@layer utilities {
  .section-padding {
    padding-left: 1rem;
    padding-right: 1rem;
  }

  @media (min-width: 640px) {
    .section-padding {
      padding-left: 1.5rem;
      padding-right: 1.5rem;
    }
  }

  @media (min-width: 1024px) {
    .section-padding {
      padding-left: 2rem;
      padding-right: 2rem;
    }
  }
}

/* ==========================================================================
   PRINT STYLES
   ========================================================================== */
@media print {
  .no-print {
    display: none !important;
  }

  body {
    background: white;
    color: black;
  }

  a {
    text-decoration: underline;
  }

  a[href^="http"]::after {
    content: " (" attr(href) ")";
    font-size: 0.8em;
    color: #666;
  }
}
